webpackJsonp([1],{Db98:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("mvHQ"),i=n.n(o),s=n("d7EF"),a=n.n(s),u=n("W3Iv"),l=n.n(u),c=n("Gu7T"),d=n.n(c),p={name:"HelloWorld",data:function(){return{sides:[2,2,2,1,3,2,2,3,3,1,2,2,2,1,3,2,2,3,3,1],boardSize:5,towersList:{},row:[],loaded:!1,solutionIndex:0,image:null,imageURL:null,parseFail:!1}},methods:{pasteHandler:function(e){var t=this,n=e.clipboardData.items[0];if(n.type.indexOf("image")>=0){this.image=n.getAsFile();var r=new FileReader;r.addEventListener("load",function(){t.imageURL=r.result},!1),r.readAsDataURL(this.image),Tesseract.recognize(this.image,{tessedit_char_whitelist:"12345"}).then(function(e){var n=e.text.match(/[1-5]/g);n&&20===n.length?(t.sides=[n[5],n[7],n[9],n[11],n[13],n[6],n[8],n[10],n[12],n[14]].concat(d()(n.slice(0,5)),d()(n.slice(15,20))),t.parseFail=!1):t.parseFail=!0})}},generateBoard:function(e,t){if(1===t)return e.map(function(e){return[e]});var n=[];return this.generateBoard(e,t-1).forEach(function(t){e.forEach(function(e){if([0,1,2,3,4].every(function(n){return t.every(function(t){return t[n]!==e[n]})})){var r=t.slice();r.push(e),n.push(r)}})}),n},pN:function(e){if(1===e)return[[1]];var t=[];return this.pN(e-1).forEach(function(n){for(var r=0;r<e;r++){var o=n.slice();o.splice(r,0,e),t.push(o)}}),t},towerCount:function(e){for(var t=0,n=0,r=0;r<e.length;r++)e[r]>t&&(t=e[r],n++);return n},towers:function(e){var t=this;return e.reduce(function(e,n){var r=[].concat(d()(n.map(t.towerCount)),d()(n.map(function(e){return t.towerCount(e.slice().reverse())})),d()(t.transpose(n).map(t.towerCount)),d()(t.transpose(n).map(function(e){return t.towerCount(e.slice().reverse())}))).join("");return e.hasOwnProperty(r)||(e[r]=[]),e[r].push(n),e},{})},transpose:function(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})}},computed:{towerSolution:function(){return this.towersList[this.sides.join("")]},towerSolutionsList:function(){return this.towerSolution?[].concat(d()(new Array(this.towerSolution.length).keys())):[]},selectedSolution:function(){var e=this;return this.towerSolution?this.towerSolution[this.solutionIndex].map(function(t){return e.row[t]}):[[],[],[],[],[]]}},mounted:function(){var e=this;setTimeout(function(){if(e.row=e.pN(e.boardSize),localStorage&&localStorage.hasOwnProperty("towers"))e.towersList=l()(JSON.parse(localStorage.getItem("towers"))).reduce(function(e,t){var n=a()(t,2),r=n[0],o=n[1];return e[parseInt(r,36).toString(6)]=o,e},{});else{for(var t=e.towers(e.generateBoard(e.row,e.boardSize)),n={},r=0;r<e.row.length;r++)n[e.row[r].join("")]=r;e.towersList=l()(t).reduce(function(e,t){var r=a()(t,2),o=r[0],i=r[1];return e[o]=i.map(function(e){return e.map(function(e){return n[e.join("")]})}),e},{});try{localStorage.clear(),localStorage.setItem("towers",i()(l()(t).reduce(function(e,t){var r=a()(t,2),o=r[0],i=r[1];return e[parseInt(o,6).toString(36)]=i.map(function(e){return e.map(function(e){return n[e.join("")]})}),e},{})))}catch(e){console.log(e)}}e.loaded=!0},0)},watch:{towerSolutionsList:function(e){this.solutionIndex=e[0]}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loaded?n("div",{attrs:{align:"center"}},[e._v("\n  Click on the numbers on the around the edges to match your tower puzzle\n  "),n("div",{staticClass:"pasteBox",style:{"background-image":"url("+e.imageURL+")"},on:{paste:e.pasteHandler}},[e.imageURL?e._e():[e._v("\n      or click here and paste screenshot to automatically fill in the numbers\n    ")]],2),e._v(" "),e.parseFail?n("div",[e._v("\n    Failed to extract numbers from screenshot.\n    "),n("br"),e._v("\n    Please only include the empty tower puzzle in the screenshot as shown the image below\n    "),n("br"),e._v(" "),n("img",{attrs:{src:"static/sample screenshot.png",width:"150px",height:"150px"}})]):e._e(),e._v(" "),n("table",[n("tr",[n("td"),e._v(" "),e._l(e.boardSize,function(t,r){return n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sides[r+2*e.boardSize],expression:"sides[n + 2 * boardSize]"}],attrs:{type:"number",min:"1",max:"5",number:""},domProps:{value:e.sides[r+2*e.boardSize]},on:{input:function(t){t.target.composing||e.$set(e.sides,r+2*e.boardSize,t.target.value)}}})])}),e._v(" "),n("td")],2),e._v(" "),e._l(e.boardSize,function(t,r){return n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sides[r],expression:"sides[n]"}],attrs:{type:"number",min:"1",max:"5",number:""},domProps:{value:e.sides[r]},on:{input:function(t){t.target.composing||e.$set(e.sides,r,t.target.value)}}})]),e._v(" "),e._l(e.boardSize,function(t,o){return n("td",[e._v(e._s(e.selectedSolution[r][o]))])}),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sides[r+e.boardSize],expression:"sides[n + boardSize]"}],attrs:{type:"number",min:"1",max:"5",number:""},domProps:{value:e.sides[r+e.boardSize]},on:{input:function(t){t.target.composing||e.$set(e.sides,r+e.boardSize,t.target.value)}}})])],2)}),e._v(" "),n("tr",[n("td"),e._v(" "),e._l(e.boardSize,function(t,r){return n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sides[r+3*e.boardSize],expression:"sides[n + 3 * boardSize]"}],attrs:{type:"number",min:"1",max:"5",number:""},domProps:{value:e.sides[r+3*e.boardSize]},on:{input:function(t){t.target.composing||e.$set(e.sides,r+3*e.boardSize,t.target.value)}}})])}),e._v(" "),n("td")],2)],2),e._v(" "),0==e.towerSolutionsList.length?n("div",[e._v("\n    No solutions for the given inputs, please check for typos\n  ")]):e._e(),e._v(" "),e.towerSolutionsList.length>1?[n("select",{directives:[{name:"model",rawName:"v-model",value:e.solutionIndex,expression:"solutionIndex"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.solutionIndex=t.target.multiple?n:n[0]}}},e._l(e.towerSolutionsList,function(t){return n("option",{domProps:{value:t}},[e._v("Solution "+e._s(t+1))])})),e._v(" "),n("br"),e._v("This puzzle has multiple solutions\n  ")]:e._e(),e._v(" "),n("br"),n("br")],2):n("div",{attrs:{align:"center"}},[e._v("\n  Page may take several seconds on first load as it calculates the possible tower puzzle solutions."),n("br"),e._v("\n  Load times should be faster when revisiting the page.\n")])},staticRenderFns:[]};var v={name:"App",components:{HelloWorld:n("VU/8")(p,m,!1,function(e){n("ObL6")},"data-v-270fe64a",null).exports}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._v("\n  Join "),t("a",{attrs:{href:"http://services.runescape.com/m=forum/forums.ws?92,93,752,65939571",target:"_blank"}},[this._v("Soccermoms")]),this._v(" today for clue luck\n  "),t("br"),this._v(" "),t("br"),this._v(" "),t("HelloWorld")],1)},staticRenderFns:[]};var h=n("VU/8")(v,f,!1,function(e){n("Db98")},null,null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:h},template:"<App/>"})},ObL6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f5f9ef8cc0a640d6671f.js.map